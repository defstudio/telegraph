__NUXT_JSONP__("/webhooks/overview", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R){return {data:[{document:{slug:"overview",description:"",title:"Webhooks Overview",menuTitle:"Overview",category:"Webhooks",fullscreen:false,position:60,toc:[{id:G,depth:v,text:H},{id:I,depth:v,text:J},{id:K,depth:v,text:L}],body:{type:"root",children:[{type:b,tag:h,props:{},children:[{type:a,value:"Telegram bots can interact with chats and users through a webhook system that enables it to be updated about chats changes, new commands and user interactions without continuously polling Telegram APIs for updates."}]},{type:a,value:e},{type:b,tag:n,props:{type:n},children:[{type:a,value:"\nBy default webhooks can handle incoming requests from \"known\" chats (the one stored in database as TelegraphChat models) and will reject all others. In order to handle unknown chats see \n"},{type:b,tag:o,props:{href:"webhooks\u002Foverview#handle-requests-from-unknown-chats"},children:[{type:a,value:"below"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:w,props:{id:G},children:[{type:b,tag:o,props:{href:"#default-handler",ariaHidden:j,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:H}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"A default \"do nothing\" handler is shipped with Telegraph installation, it can only handle a single chat command:"}]},{type:a,value:e},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,"language-text"]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fchatid\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"And answers with the ID of the chat the command is issued into. It is useful to get the ChatID in order to register a new chat in Telegraph"}]},{type:a,value:e},{type:b,tag:w,props:{id:I},children:[{type:b,tag:o,props:{href:"#custom-handler",ariaHidden:j,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:J}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"In order to write custom webhook and commands handlers the default handler must be switched with a custom one"}]},{type:a,value:e},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,M]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"\u002F\u002F app\u002FHttp\u002FWebhooks\u002FMyWebhookHandler.php"}]},{type:a,value:"\n\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"class"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"class-name-definition",N]},children:[{type:a,value:"MyWebhookHandler"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"extends"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,N,"class-name-fully-qualified"]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:"DefStudio"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:"Telegraph"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:"Handlers"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:"WebhookHandler"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"public"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"function-definition",P]},children:[{type:a,value:"myCustomHandler"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"("}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:")"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:":"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m,"return-type"]},children:[{type:a,value:"void"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:"\n        "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"\u002F\u002F ... My awesome code"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:n,props:{type:n},children:[{type:a,value:"\nA custom webhook handler must extend \n"},{type:b,tag:k,props:{},children:[{type:a,value:"DefStudio\\Telegraph\\Handlers\\WebhookHandler"}]},{type:a,value:"\n and has to be registered in \n"},{type:b,tag:k,props:{},children:[{type:a,value:"config('telegraph.webhook_handler')"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"A detailed description of how WebhookHandlers work can be found in the next sections"}]},{type:a,value:e},{type:b,tag:w,props:{id:K},children:[{type:b,tag:o,props:{href:"#handle-requests-from-unknown-chats",ariaHidden:j,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:L}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"By default webhooks can handle incoming requests from \"known\" chats (the one stored in database as TelegraphChat models) and will reject all others."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Callback queries, commands and messages handling from unknown chats can be enabled from telegraph config in security settings:"}]},{type:a,value:e},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,M]},children:[{type:b,tag:k,props:{},children:[{type:a,value:g},{type:b,tag:c,props:{className:[d,q,r]},children:[{type:a,value:"'security'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"["}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"\u002F*\n     * if enabled, allows callback queries from unregistered chats\n     *\u002F"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,q,r]},children:[{type:a,value:"'allow_callback_queries_from_unknown_chats'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,E,F]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n\n    "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"\u002F*\n     * if enabled, allows messages and commands from unregistered chats\n     *\u002F"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,q,r]},children:[{type:a,value:"'allow_messages_from_unknown_chats'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,E,F]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n    \n     "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"\u002F*\n     * if enabled, store unknown chats as new TelegraphChat models\n     *\u002F"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,q,r]},children:[{type:a,value:"'store_unknown_chats_in_db'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,E,F]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"]"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:e}]}]}]}]},dir:"\u002Fen\u002Fwebhooks",path:"\u002Fen\u002Fwebhooks\u002Foverview",extension:".md",createdAt:R,updatedAt:R,to:"\u002Fwebhooks\u002Foverview"},prev:{title:"TelegraphChat",path:"\u002Fen\u002Fmodels\u002Ftelegraph-chat",to:"\u002Fmodels\u002Ftelegraph-chat"},next:{title:"Register Webhooks",path:"\u002Fen\u002Fwebhooks\u002Fregistering-webhooks",to:"\u002Fwebhooks\u002Fregistering-webhooks"}}],fetch:{},mutations:[]}}("text","element","span","token","\n","punctuation"," ","p","\n    ","true","code","comment","keyword","alert","a","\\","string","single-quoted-string","operator","=\u003E",",",2,"h2",-1,"icon","icon-link","div","nuxt-content-highlight","pre","line-numbers","constant","boolean","default-handler","Default Handler","custom-handler","Custom Handler","handle-requests-from-unknown-chats","Handle requests from unknown chats","language-php","class-name","{","function","}","2022-10-25T10:09:10.117Z")));